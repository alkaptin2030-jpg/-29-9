import{r as a,u as w,a as N,j as e,L as m,i as o}from"./index-DUB6nijl.js";import{B as y}from"./button-Xx7_M9XJ.js";import{I as x}from"./input-CtE7SiXP.js";import{U as v}from"./user-C5gTn1nq.js";import{S as k}from"./smartphone-CJ7CWJW7.js";import{M as h}from"./mail-rivyR47E.js";import{L as S}from"./lock-alsKbBBb.js";import{E as L,a as C}from"./eye-Cr5ntngl.js";import{A as E}from"./arrow-right-SgvVdpUU.js";const z=()=>{const[r,u]=a.useState(""),[l,f]=a.useState(""),[i,g]=a.useState(!1),[n,c]=a.useState(!1),{signIn:p}=w(),d=N(),b=async t=>{if(t.preventDefault(),console.log("🔐 بدء عملية تسجيل الدخول:",{email:r,password:"***"}),!r||!l){o.error("يرجى ملء جميع الحقول");return}c(!0);try{console.log("🔐 استدعاء signIn...");const{error:s}=await p(r,l);console.log("🔐 SignIn result:",{error:s}),s?(console.error("❌ خطأ في تسجيل الدخول:",s),o.error(s.message||"حدث خطأ أثناء تسجيل الدخول")):(console.log("✅ تم تسجيل الدخول بنجاح!"),o.success("تم تسجيل الدخول بنجاح!"),d("/dashboard-redirect"))}catch(s){console.error("❌ خطأ غير متوقع:",s),o.error("حدث خطأ غير متوقع")}finally{c(!1)}},j=()=>{d("/user/forgot-password")};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/10"}),e.jsxs("div",{className:"relative w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-r from-green-600 to-blue-600 rounded-full mb-4 shadow-2xl",children:e.jsx(v,{className:"w-10 h-10 text-white"})}),e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[e.jsx("div",{className:"h-8 w-8 bg-gradient-to-r from-red-500 to-red-600 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-sm",children:"ك"})}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(k,{className:"h-5 w-5 text-white"}),e.jsx("span",{className:"text-xl font-bold text-white",children:"كاشي لينك"})]})]}),e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"تسجيل دخول المستخدم"}),e.jsx("p",{className:"text-gray-300",children:"أدخل بياناتك للوصول إلى حسابك"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-8 shadow-2xl border border-white/20",children:[e.jsxs("form",{onSubmit:b,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-200",children:"البريد الإلكتروني"}),e.jsxs("div",{className:"relative",children:[e.jsx(h,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(x,{id:"email",type:"email",placeholder:"أدخل بريدك الإلكتروني",value:r,onChange:t=>u(t.target.value),className:"bg-white/20 border-white/30 text-white placeholder-gray-300 pl-10 pr-4 py-3 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent backdrop-blur-sm",dir:"rtl",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-200",children:"كلمة المرور"}),e.jsxs("div",{className:"relative",children:[e.jsx(S,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(x,{id:"password",type:i?"text":"password",placeholder:"أدخل كلمة المرور",value:l,onChange:t=>f(t.target.value),className:"bg-white/20 border-white/30 text-white placeholder-gray-300 pl-10 pr-10 py-3 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent backdrop-blur-sm",autoComplete:"off",dir:"rtl",required:!0}),e.jsx("button",{type:"button",onClick:()=>g(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition-colors",children:i?e.jsx(L,{className:"w-5 h-5"}):e.jsx(C,{className:"w-5 h-5"})})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(y,{type:"button",variant:"ghost",size:"sm",onClick:j,className:"text-gray-300 hover:text-white p-0 h-auto font-normal hover:bg-transparent",children:[e.jsx(h,{className:"w-4 h-4 ml-1"}),"نسيت كلمة المرور؟"]})}),e.jsx("button",{type:"submit",disabled:n,className:"w-full bg-gradient-to-r from-green-600 to-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:from-green-700 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 focus:ring-offset-transparent transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:n?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white ml-2"}),"جاري تسجيل الدخول..."]}):e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(E,{className:"w-5 h-5 ml-2"}),"تسجيل الدخول"]})})]}),e.jsxs("div",{className:"mt-6 text-center space-y-3",children:[e.jsxs("p",{className:"text-sm text-gray-300",children:["ليس لديك حساب؟"," ",e.jsx(m,{to:"/user/register",className:"text-green-400 hover:text-green-300 font-medium transition-colors hover:underline",children:"إنشاء حساب جديد"})]}),e.jsx("p",{className:"text-sm",children:e.jsx(m,{to:"/",className:"text-gray-400 hover:text-gray-300 transition-colors hover:underline",children:"العودة إلى الصفحة الرئيسية"})})]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("p",{className:"text-xs text-gray-500",children:"🔒 جلسة آمنة ومشفرة"})})]})]})};export{z as default};
