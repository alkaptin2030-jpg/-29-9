import{u as o,a as t,r as i,j as r}from"./index-BDn-rBfC.js";const d=()=>{const{user:n,profile:e,loading:a}=o(),s=t();return i.useEffect(()=>{if(console.log("Index: useEffect triggered",{loading:a,user:n==null?void 0:n.uid,profile:e==null?void 0:e.role}),!a)if(!n)console.log("Index: No user, navigating to landing"),s("/landing");else if(e){if(console.log("Index: Profile found, navigating based on role:",e.role),e.role==="user")if(e.approved===!1){s("/user/pending-approval");return}else{s("/user/dashboard");return}e.role==="merchant"?s("/merchant"):(s("/landing"),console.log("User role not supported:",e.role))}else console.log("Index: User exists but no profile yet, waiting...")},[n,e,a,s]),a?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"h-8 w-8 animate-spin border-4 border-primary border-r-transparent rounded-full mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"جاري التحميل..."})]})}):r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"h-8 w-8 animate-spin border-4 border-primary border-r-transparent rounded-full mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"جاري إعداد الحساب..."})]})})};export{d as default};
