import{u as c,j as e,Y as m,U as d,r as u,Z as x,$ as n,N as h}from"./index-Drf-Kel-.js";import{B as p}from"./button-BeXYwqdJ.js";import{D as f,a as j,b as g,c as b,d as o,e as i}from"./dropdown-menu-C--56y90.js";import{B as N}from"./badge-UZez9OVE.js";import{U as w}from"./user-8v5sbkXa.js";import{W as v}from"./WalletsManagement-BhasvqIk.js";import"./index-CexbHjis.js";import"./Combination-CwHaGt6n.js";import"./index-BoPwWMJr.js";import"./check-Cq7Xk3YP.js";import"./card-B-oThBGQ.js";import"./progress-DQxfmnh7.js";import"./input-BS89kG9l.js";import"./label-LMuypoA6.js";import"./select-D1NXV2xv.js";import"./index-D3Q9cnmm.js";import"./dialog-BnpzTiyj.js";import"./walletDailyLimitsService-CGHLknt6.js";import"./square-pen-BRFFPzTP.js";function y(){const{profile:r,signOut:s}=c(),t=a=>{switch(a){case"staff":return"موظف";case"merchant":return"تاجر";case"user":return"مستخدم";default:return a}},l=a=>{switch(a){case"staff":return"bg-secondary text-secondary-foreground";case"merchant":return"bg-success text-success-foreground";case"user":return"bg-blue-500 text-white";default:return"bg-muted text-muted-foreground"}};return e.jsx("header",{className:"h-16 border-b border-border bg-card/50 backdrop-blur-sm",children:e.jsxs("div",{className:"flex h-full items-center justify-between px-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("h1",{className:"text-xl font-bold text-foreground",children:"منصة إدارة المحول"}),r&&e.jsx(N,{className:l(r.role),children:t(r.role)})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs(f,{children:[e.jsx(j,{asChild:!0,children:e.jsxs(p,{variant:"ghost",className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center",children:e.jsx(w,{className:"h-4 w-4 text-primary"})}),e.jsx("span",{className:"text-sm",children:(r==null?void 0:r.fullName)||"المستخدم"})]})}),e.jsxs(g,{align:"end",className:"w-56",children:[e.jsx(b,{children:"حسابي"}),e.jsx(o,{}),e.jsxs(i,{children:[e.jsx(m,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"الإعدادات"})]}),e.jsx(o,{}),e.jsxs(i,{onClick:()=>s(),className:"text-destructive",children:[e.jsx(d,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"تسجيل الخروج"})]})]})]})})]})})}function $(){const{user:r,profile:s,loading:t}=c();return u.useEffect(()=>{!t&&(!r||!s||s.role!=="merchant")&&(window.location.href="/auth")},[r,s,t]),t?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"h-8 w-8 animate-spin border-4 border-primary border-r-transparent rounded-full mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"جاري التحميل..."})]})}):!r||!s||s.role!=="merchant"?null:s&&!s.approved?(window.location.href="/user/pending-approval",null):e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(y,{}),e.jsx("main",{className:"container mx-auto p-6",children:e.jsxs(x,{children:[e.jsx(n,{path:"/",element:e.jsx(h,{to:"/merchant/wallets",replace:!0})}),e.jsx(n,{path:"/wallets",element:e.jsx(v,{})})]})})]})}export{$ as default};
