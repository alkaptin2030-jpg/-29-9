import{r,a as g,j as e,i,s as w,e as u,t as j,k as y,g as v,v as N}from"./index-DLHzCM3p.js";import{S as k}from"./shield-Ct0WhJ5m.js";import{M as E}from"./mail-6PNDkAae.js";import{L as S}from"./lock-E5UKa-z-.js";import{E as L,a as C}from"./eye-DN78Rh-z.js";const M=()=>{const[a,m]=r.useState(""),[l,p]=r.useState(""),[o,x]=r.useState(!1),[n,d]=r.useState(!1),h=g(),f=async s=>{var c;if(s.preventDefault(),a!=="alkaptin7878@mail.ru"||l!=="01123456"){i.error("بيانات الدخول غير صحيحة");return}d(!0);try{await w(u,a,l);const t=(c=u.currentUser)==null?void 0:c.uid;if(t)try{await j(y(v,"profiles",t),{role:"staff",approved:!0,updatedAt:N()},{merge:!0})}catch(b){console.error("خطأ أثناء تحديث دور البروفايل:",b)}i.success("تم تسجيل الدخول بنجاح"),h("/admin/dashboard")}catch(t){console.error("خطأ في تسجيل الدخول:",t),i.error("فشل في تسجيل الدخول")}finally{d(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/10"}),e.jsxs("div",{className:"relative w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-r from-purple-600 to-blue-600 rounded-full mb-4 shadow-2xl",children:e.jsx(k,{className:"w-10 h-10 text-white"})}),e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"لوحة التحكم الإدارية"}),e.jsx("p",{className:"text-gray-300",children:"تسجيل دخول المدير"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-8 shadow-2xl border border-white/20",children:[e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-200",children:"البريد الإلكتروني"}),e.jsxs("div",{className:"relative",children:[e.jsx(E,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{id:"email",type:"email",value:a,onChange:s=>m(s.target.value),className:"w-full pl-12 pr-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200",placeholder:"أدخل البريد الإلكتروني",required:!0,dir:"ltr"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-200",children:"كلمة المرور"}),e.jsxs("div",{className:"relative",children:[e.jsx(S,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{id:"password",type:o?"text":"password",value:l,onChange:s=>p(s.target.value),className:"w-full pl-12 pr-12 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200",placeholder:"أدخل كلمة المرور",autoComplete:"off",required:!0,dir:"ltr"}),e.jsx("button",{type:"button",onClick:()=>x(!o),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition-colors",children:o?e.jsx(L,{className:"w-5 h-5"}):e.jsx(C,{className:"w-5 h-5"})})]})]}),e.jsx("button",{type:"submit",disabled:n,className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:from-purple-700 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 focus:ring-offset-transparent transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",children:n?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white ml-2"}),"جاري تسجيل الدخول..."]}):"تسجيل الدخول"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("p",{className:"text-xs text-gray-400",children:"مخصص للمديرين المعتمدين فقط"})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("p",{className:"text-xs text-gray-500",children:"🔒 جلسة آمنة ومشفرة"})})]})]})};export{M as default};
